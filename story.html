<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="story">

    </div>

    <div id="buttons">

    </div>
    <script>
        const story = {
            intro: {
                text: `You wake up in the sand on the coast of somewhere in russia You get up and walk to some houses you see in the distance so You walk to them and see a sign reading Kamiwobo 1km & Elektro 4km Are down west on the road and And on the other side it says Solnichy 2km North on the road`,
                choices : [
                    ["Kamiwobo", "kam1"],
                    ["Elektro", "elek1"],
                    ["solnitchy", "sol1"]
                ]
            },
            kam1 : {
                text: `You turn west and start walking down the road, your thirsty but not direly, you have nothing but some rags a glow stick and a small plum in your jean pockets and the only warmth you have is from your hoodie, you continue down the road at a steady pace and make have nothing but some rags a glow stick and a small plum in your jean pockets and the only warmth you have is from your hoodie, you continue down the road at a steady pace and make in to the town of Kamiwobo and begin to search houses, you find scraps of food a water bottle and a tire iron. You realize your pretty thirsty and know there's a well on the other side of town so you head over to rehydrate. While drinking you hear a shuffle behind you so you try to pick up your stuff and get out quietly but in the process you trip and scramble to your feet only to look up and see a group of three looking at you.`,
                choices : [
                    ["Fight", "kamyes"],
                    ["Run", "kamno"]
                ]
            },
            elek1 : {
                text: `You turn west and start walking down the road, your thirsty but not direly, you are heading down the road and you come up on kamiwobo do you go through and loot a little or do you run around the town and keep on the route to Elektro?`,
                choices : [
                    ["Stop at Kamiwobo", "kam2"],
                    ["Continue to Elektro", "Elek2"]
                ]
            },
            sol1 : {
                text: `You turn north and start walking up the road stopping at a few houses that where along the road, you find a box of 12g shells, an apple, and a golf club. You continue to Solnitchy but as you get closer and closer you hear a rain of gunfire but you continue on and enter the town of Solnitchy looting the first few houses nothing but some food scraps and a beanie, you hear the gunfire continuing do you go to it?, or just loot in your area`,
                choices : [
                    ["Fight", "solfight"],
                    ["Run", "solrun"]
                ]
            },
            kam2 : {
                text: `You show up at Kamiwobo and begin to loot on the main road to get in and out as fast as possible. You begin to search houses, you find scraps of food a water bottle and a tire iron. You realize your pretty thirsty and know there's a well on the other side of town so you head over to rehydrate. While drinking you hear a shuffle behind you so you try to pick up your stuff and get out quietly but in the process you trip and scramble to your feet only to look up and see a group of three looking at you.`,
                choices : [
                    ["Fight", "kamyes"],
                    ["Run", "kamno"]
                ]
            },
            kamyes : {
                text : `You ready yourself and they start to charge you, you raise your tire iron and swing hard down on one's head but it keeps coming and you keep backing up and swinging you take one down finnaly but the other two are getting closer and closer to getting you and you suddenly hear too loud bangs and the two zombies are dead in front of you and there's an officer standing there and he rushes over to check if your hurt. You guys move into a building and you regather yourself in the safety of a house. He asks for your name and where you came from, he tells you of a plan and a group of survivors he knows of that is inland around Stary Sober. He asks you if you want to join him saying you guys have a better chance of survival together and will be guaranteed safety once with the group of survivors. He tells you that you got a few minutes to decide while he packs up his bags and readys himself and hands you an IJ-7 “Its empty but it's better than nothing, whether you come with me or not, I want you to keep it” , he says`,
                choices : [
                    ["Go with him", "Kami3"],
                    ["Go alone", "GAMEENDED"]
                ]
            },
            kamno : {
                text : `You run and hide in a nearby house you hear more and more zombies piling up at the door and you are hiding in the room and lay down in the bedroom and pass out for an unknown amount of time but you get jerked away by the sound of three gunshots cracking and going through the front door along with the sound of three bodies dropping and a police officer came running in and barricades the door behind him. He sees you sitting there and freezes staring at you. “Oh uh hi im sorry I didn't think anyone was here, are you ok?”, he says Suddenly the door bounces in and he pushes it back shut and moves a nearby dresser in front of it. “Look kid, we only have a little longer till more surround the building and we will be trapped here for days” he says panting out of breath and visibly starting to stress, “There's a group of people, good people, their in stary sober they can keep you safe and supply you with what you need” He gives you his spare IJ-70 with an empty mag and says you have a few minutes to decide if not you guys can part ways.`,
                choices : [
                    ["Go with him", "Kami3"],
                    ["Go alone", "kamialone"]
                ]
            },
            Elek2 : {
                text : ``,
                choices: [
                    [],
                    []
                ]
                }
            },

        let storyContainer = document.getElementById("story")

        let buttonContainer = document.getElementById("buttons")

        let history = ["intro"]

        function makeButton(btnText, choice){
            let button = document.createElement("button");
            button.innerHTML = btnText;
            buttonContainer.appendChild(button);
            button.addEventListener ("click", function () {
                history.push(choice);
                showStory();
            });
        }

        function showStory() {
            let currentPage = history[history.length - 1]; 
            storyContainer.innerHTML = ""; 
            buttonContainer.innerHTML = ""; 
            for(let page of history){ 
                buildStory(story[page].text);
            }
            for(let choice of story[currentPage].choices){ 
                makeButton(choice[0], choice[1])
            }
        }

        function buildStory(text) {
            let storyItem = document.createElement("p");
            storyItem.innerText = text;
            storyContainer.appendChild(storyItem);
        }

        showStory();
        
    </script>
    
    
</body>
</html>